(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.data,o=e.handleCardClick,i=e.handleLikeClick,a=e.handleDeleteClick,c=e.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=r,this._name=r.name,this._link=r.link,this._likes=r.likes,this._cardId=r._id,this._ownerId=r.owner._id,this._userId=c,this._cardSelector=n,this._handleCardClick=o,this._handleLikeClick=i,this._handleDeleteClick=a}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo-grid__item").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_enableLike",value:function(){this._element.querySelector(".photo-grid__like").classList.add("photo-grid__like-active")}},{key:"_disableLike",value:function(){this._element.querySelector(".photo-grid__like").classList.remove("photo-grid__like-active")}},{key:"setLikes",value:function(e){this._likes=e,this._likesCounter.textContent=this._likes.length,this.isLiked()?this._enableLike():this._disableLike()}},{key:"removeLike",value:function(){this._likesCounter.textContent=this._likes.length}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._buttonCardDelete=this._element.querySelector(".photo-grid__delete"),this._buttonShowImage=this._element.querySelector(".photo-grid__show-btn"),this._buttonLike=this._element.querySelector(".photo-grid__like"),this._likesCounter=this._element.querySelector(".photo-grid__like-counter");var e=this._element.querySelector(".photo-grid__title"),t=this._element.querySelector(".photo-grid__image");return e.textContent=this._name,t.src=this._link,t.alt=this._name,this._ownerId!==this._userId&&this._buttonCardDelete.remove(),this.setLikes(this._likes),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._buttonLike.addEventListener("click",(function(){e._handleLikeClick(e._id)})),this._buttonCardDelete.addEventListener("click",(function(){e._handleDeleteClick(e._id)})),this._buttonShowImage.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){var n=t._renderer(e);t.addItem(n)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),console.log(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupSelector.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupSelector.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imagePopup=document.querySelector(".popup__image"),t._imageDescription=document.querySelector(".popup__description"),t}return t=a,(n=[{key:"open",value:function(e){this._imageDescription.textContent=e.name,this._imagePopup.alt=e.name,this._imagePopup.src=e.link,u(h(a.prototype),"open",this).call(this)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._formElement=n._popupSelector.querySelector(".form"),n._inputList=n._formElement.querySelectorAll(".form__input"),n._submitButton=n._formElement.querySelector(".form__submit"),n._submitButtonText=n._submitButton.textContent,n}return t=a,(n=[{key:"loading",value:function(e){this._submitButton.textContent=e?"Сохранение...":this._submitButtonText}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;y(k(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){y(k(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function L(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupConfirmButton=n._popupSelector.querySelector(".form__submit-type-confirm"),n._handleSubmit=t,n}return t=a,(n=[{key:"submitCallBack",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;E(j(a.prototype),"setEventListeners",this).call(this),this._popupConfirmButton.addEventListener("click",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._errorList=Array.from(this._formElement.querySelectorAll(this._config.formSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.classList.add(this._config.errorClass),n.textContent=t}},{key:"_hideError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disableButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"_enableButton",value:function(){this._buttonElement.removeAttribute("disabled",!1),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButton():this._enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetErrors",value:function(){var e=this;this._disableButton(),this._inputList.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"dislike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const D={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type-error",errorClass:"form__error_active"};var A=document.querySelector(".form_profile-edit"),U=document.querySelector(".form_cards-add"),V=document.querySelector(".form_avatar-edit"),N=document.querySelector(".profile__edit-btn"),J=document.querySelector(".profile__add-btn"),F=document.querySelector(".profile__avatar-btn"),G=A.querySelector(".form__input_type_name"),H=A.querySelector(".form__input_type_about"),M=(document.querySelector(".photo-grid"),document.querySelector(".profile__avatar"));function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $,K=new x({url:"https://mesto.nomoreparties.co/v1/cohort-41/",headers:{authorization:"a189a246-afb4-4f3e-9a38-c42b77769c95","Content-Type":"application/json"}});Promise.all([K.getUserInfo(),K.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo(o),$=o._id,X.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var Q=new q({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__avatar"}),W=function(e){var n=new t({data:e,userId:$,handleCardClick:function(){ne.open(e)},handleLikeClick:function(){n.isLiked()?K.dislike(e._id).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log("Ошибка: ".concat(e))})):K.addLike(e._id).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log("Ошибка: ".concat(e))}))},handleDeleteClick:function(){te.open(),te.submitCallBack((function(){K.deleteCard(e._id).then((function(){te.close(),n.removeCard()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}))}},".card-template");return n.generateCard()},X=new r({renderer:W},".photo-grid"),Y=new g(".popup_add",(function(e){Y.loading(!0);var t={name:e.place,link:e.link};K.addCard(t).then((function(e){X.addItem(W(e)),Y.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Y.loading(!1)}))})),Z=new g(".popup_avatar",(function(e){Z.loading(!0),K.editAvatar(e).then((function(e){M.src=e.avatar,Z.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Z.loading(!1)}))})),ee=new g(".popup_edit",(function(e){ee.loading(!0),K.editUserInfo(e).then((function(e){Q.setUserInfo(e),ee.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ee.loading(!1)}))})),te=new P(".popup_delete"),ne=new p(".popup_show");Y.setEventListeners(),Z.setEventListeners(),ee.setEventListeners(),ne.setEventListeners(),te.setEventListeners();var re=new T(D,A);re.enableValidation();var oe=new T(D,U);oe.enableValidation();var ie=new T(D,V);ie.enableValidation(),N.addEventListener("click",(function(){var e=Q.getUserInfo();G.value=e.name,H.value=e.about,re.resetErrors(),ee.open()})),J.addEventListener("click",(function(){oe.resetErrors(),Y.open()})),F.addEventListener("click",(function(){ie.resetErrors(),Z.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFHWG5CLEVBQWlCaEgsaUJBQWlCLFNBQVMsV0FDekN5SixHQUFrQkUsY0FDbEJWLEVBQVlkLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigge2RhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgdXNlcklkfSwgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2l0ZW0nKVxyXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoaXRlbSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICBfZW5hYmxlTGlrZSgpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fbGlrZScpLmNsYXNzTGlzdC5hZGQoJ3Bob3RvLWdyaWRfX2xpa2UtYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Rpc2FibGVMaWtlKCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19saWtlJykuY2xhc3NMaXN0LnJlbW92ZSgncGhvdG8tZ3JpZF9fbGlrZS1hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlcyhzZXROZXdMaWtlKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VzID0gc2V0TmV3TGlrZTtcclxuICAgICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG5cclxuXHJcbiAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZUxpa2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlTGlrZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGlrZSgpIHtcclxuICAgICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uQ2FyZERlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2RlbGV0ZScpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvblNob3dJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX3Nob3ctYnRuJyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19saWtlLWNvdW50ZXInKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fdGl0bGUnKTtcclxuICAgICAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19pbWFnZScpO1xyXG5cclxuICAgICAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgICAgdGhpcy5fYnV0dG9uQ2FyZERlbGV0ZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNldExpa2VzKHRoaXMuX2xpa2VzKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLl9idXR0b25DYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uU2hvd0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDYXJkKCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoIHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbnJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICB0aGlzLmFkZEl0ZW0oZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVzY3JpcHRpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9pbWFnZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXAuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXAuc3JjID0gZGF0YS5saW5rO1xyXG5cclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VibWl0Jyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgICAgIGlmKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQ29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Ym1pdC10eXBlLWNvbmZpcm0nKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXRcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXRDYWxsQmFjayhuZXdTdWJtaXQpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBuZXdTdWJtaXQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBDb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB1c2VySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgIHRoaXMuX2Vycm9yTGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9tZXRob2QgZm9yIHNob3dpbmcgZXJyb3JzXHJcbiAgICBfc2hvd0Vycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgIGNvbnN0IGZvcm1FcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGZvcm1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgICAgZm9ybUVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbWV0aG9kIGZvciBoaWRpbmcgZXJyb3JzXHJcbiAgICBfaGlkZUVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICBjb25zdCBmb3JtRXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbWV0aG9kIGZvciBjaGVja2luZyB2YWxpZGl0eVxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgICAgID8gdGhpcy5fc2hvd0Vycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKVxyXG4gICAgICAgOiB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL2Rpc2FibGUgYnV0dG9uIG1ldGhvZFxyXG4gICAgX2Rpc2FibGVCdXR0b24oKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5iYWxlIGJ1dHRvbiBtZXRob2RcclxuICAgIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICAvL21ldGhvZCBmb3IgdG9nZ2xpbmcgYnV0dG9uIHN0YXRlXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgIHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpID8gdGhpcy5fZGlzYWJsZUJ1dHRvbigpIDogdGhpcy5fZW5hYmxlQnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9saXN0ZW5lcnNcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9tZXRob2QgZm9yIHJlc2V0dGluZyBlcnJvcnNcclxuICAgIHJlc2V0RXJyb3JzKCkge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcblxyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5hYmxlIHZhbGlkYXRpb24gbWV0aG9kXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIGhlYWRlcnNcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDYXJkKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkTGlrZShpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNsaWtlKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRBdmF0YXIoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJ9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zdWJtaXQnLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX3N1Ym1pdF9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlLWVycm9yJyxcclxuICAgIGVycm9yQ2xhc3M6ICdmb3JtX19lcnJvcl9hY3RpdmUnXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZzsiLCIvL2Zvcm0ncyBlbGVtZW50c1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fcHJvZmlsZS1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX2NhcmRzLWFkZCcpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9hdmF0YXItZWRpdCcpO1xyXG4vL2J1dHRvbnNcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkF2YXRhckVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWJ0bicpO1xyXG4vL2lucHV0c1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZm9ybUVsZW1lbnRFZGl0LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGFib3V0SW5wdXQgPSBmb3JtRWxlbWVudEVkaXQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfYWJvdXQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7IiwiaW1wb3J0IENhcmQgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vc2NyaXB0cy91dGlscy9jb25maWcuanMnO1xyXG5pbXBvcnQge1xyXG4gIGZvcm1FbGVtZW50RWRpdCxcclxuICBmb3JtRWxlbWVudEFkZCxcclxuICBmb3JtRWxlbWVudEF2YXRhcixcclxuICBidXR0b25FZGl0UHJvZmlsZSxcclxuICBidXR0b25BZGRDYXJkLFxyXG4gIGJ1dHRvbkF2YXRhckVkaXQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGFib3V0SW5wdXQsXHJcbiAgYXZhdGFyLFxyXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG5cclxuLy9jbGFzcyBBcGlcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS8nLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdhMTg5YTI0Ni1hZmI0LTRmM2UtOWEzOC1jNDJiNzc3NjljOTUnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9LFxyXG59KTtcclxuXHJcbmxldCB1c2VySWQ7XHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW3VzZXJEYXRhLCB1c2VyQ2FyZF0pID0+IHtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICAgIHNlY3Rpb24ucmVuZGVySXRlbXModXNlckNhcmQpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gIH0pO1xyXG5cclxuLy9jcmVhdGluZyB1c2VyIGluZm9ybWF0aW9uIG9iamVjdFxyXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnLFxyXG4gIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcicsXHJcbn0pO1xyXG5cclxuXHJcbi8vcmVuZGVyaW5nIGNhcmRzXHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHVzZXJJZDogdXNlcklkLFxyXG5cclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBTaG93SW1hZ2Uub3BlbihkYXRhKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGhhbmRsZUxpa2VDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGlmIChjYXJkLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgYXBpLmRpc2xpa2UoZGF0YS5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwaS5hZGRMaWtlKGRhdGEuX2lkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwRGVsZXRlLm9wZW4oKTtcclxuICAgICAgICBwb3B1cERlbGV0ZS5zdWJtaXRDYWxsQmFjaygoKSA9PiB7XHJcbiAgICAgICAgICBhcGkuZGVsZXRlQ2FyZChkYXRhLl9pZClcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcclxuICAgICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICcuY2FyZC10ZW1wbGF0ZSdcclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKVxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7cmVuZGVyZXI6IHJlbmRlckNhcmR9LCAnLnBob3RvLWdyaWQnKTtcclxuXHJcblxyXG4vL2NyZWF0aW5nIHBvcHVwIGZvciBhZGRpbmcgY2FyZHNcclxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZCcsIChjYXJkRGF0YSkgPT4ge1xyXG4gIHBvcHVwQWRkLmxvYWRpbmcodHJ1ZSk7XHJcbiAgY29uc3QgZGF0YSA9IHtcclxuICAgIG5hbWU6IGNhcmREYXRhLnBsYWNlLFxyXG4gICAgbGluazogY2FyZERhdGEubGlua1xyXG4gIH07XHJcbiAgYXBpLmFkZENhcmQoZGF0YSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShyZW5kZXJDYXJkKGRhdGEpKTtcclxuICAgICAgcG9wdXBBZGQuY2xvc2UoKTtcclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cEFkZC5sb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pXHJcbn0pO1xyXG5cclxuLy9jcmVhdGluZyBwb3B1cCBmb3IgZWRkaXRpbmcgYXZhdGFyXHJcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9hdmF0YXInLFxyXG4gIChkYXRhKSA9PiB7XHJcbiAgICBwb3B1cEF2YXRhci5sb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5lZGl0QXZhdGFyKGRhdGEpLlxyXG4gIHRoZW4oKGRhdGEpID0+IHtcclxuICAgIGF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwb3B1cEF2YXRhci5sb2FkaW5nKGZhbHNlKVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuLy9jcmVhdGluZyBwb3B1cCBmb3IgZWRpdGluZyBwcm9maWxlIGluZm9cclxuY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9lZGl0JyxcclxuICAgKGRhdGEpID0+IHtcclxuICAgICBwb3B1cEVkaXQubG9hZGluZyh0cnVlKTtcclxuICBhcGkuZWRpdFVzZXJJbmZvKGRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHBvcHVwRWRpdC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBFZGl0LmxvYWRpbmcoZmFsc2UpXHJcbiAgICB9KVxyXG59KTtcclxuXHJcbi8vY3JlYXRpbmcgcG9wdXAgZm9yIGNvbmZpcm1hdGlvbiBkZWxldGluZ1xyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoJy5wb3B1cF9kZWxldGUnKTtcclxuLy9jcmVhdGluZyBwb3B1cCBmb3Igc2hvd2luZyBpbWFnZXNcclxuY29uc3QgcG9wdXBTaG93SW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9zaG93Jyk7XHJcblxyXG5cclxuLy9zZXRFdmVudExpc3RlbmVyc1xyXG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBTaG93SW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4vL3ZhbGlkYXRpb24gb2YgcHJvZmlsZSBlZGl0aW5nXHJcbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudEVkaXQpO1xyXG5mb3JtRWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL3ZhbGlkYXRpb24gb2YgYWRkaW5nIGNhcmRcclxuY29uc3QgZm9ybUFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnRBZGQpO1xyXG5mb3JtQWRkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy92YWxpZGF0aW9uIG9mIGVkaXRpbmcgYXZhdGFyXHJcbmNvbnN0IGZvcm1BdmF0YXJsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudEF2YXRhcik7XHJcbmZvcm1BdmF0YXJsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcblxyXG4vL2xpc3RlbmVyc1xyXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjb25zdCBnZXRQcm9maWxlSW5mbyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcblxyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IGdldFByb2ZpbGVJbmZvLm5hbWU7XHJcbiAgYWJvdXRJbnB1dC52YWx1ZSA9IGdldFByb2ZpbGVJbmZvLmFib3V0O1xyXG5cclxuICBmb3JtRWRpdFZhbGlkYXRvci5yZXNldEVycm9ycygpO1xyXG4gIHBvcHVwRWRpdC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBmb3JtQWRkVmFsaWRhdG9yLnJlc2V0RXJyb3JzKCk7XHJcbiAgcG9wdXBBZGQub3BlbigpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkF2YXRhckVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybUF2YXRhcmxpZGF0b3IucmVzZXRFcnJvcnMoKTtcclxuICBwb3B1cEF2YXRhci5vcGVuKCk7XHJcbn0pOyJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwidXNlcklkIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl91c2VySWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic29tZSIsIml0ZW0iLCJfZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNldE5ld0xpa2UiLCJfbGlrZXNDb3VudGVyIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJpc0xpa2VkIiwiX2VuYWJsZUxpa2UiLCJfZGlzYWJsZUxpa2UiLCJfZ2V0VGVtcGxhdGUiLCJfYnV0dG9uQ2FyZERlbGV0ZSIsIl9idXR0b25TaG93SW1hZ2UiLCJfYnV0dG9uTGlrZSIsImNhcmROYW1lIiwiY2FyZEltYWdlIiwic3JjIiwiYWx0Iiwic2V0TGlrZXMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZXZlcnNlIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJhZGRJdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZVBvcHVwIiwiX2ltYWdlRGVzY3JpcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJpc0xvYWRpbmciLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhTdWJtaXQiLCJoYW5kbGVTdWJtaXQiLCJfcG9wdXBDb25maXJtQnV0dG9uIiwiX2hhbmRsZVN1Ym1pdCIsIm5ld1N1Ym1pdCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2Fib3V0IiwiX2F2YXRhciIsImFib3V0IiwiYXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIkFycmF5IiwiZnJvbSIsImlucHV0U2VsZWN0b3IiLCJfZXJyb3JMaXN0IiwiZm9ybVNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImZvcm1FcnJvciIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiQXBpIiwidXJsIiwiaGVhZGVycyIsIl91cmwiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZm9ybUVsZW1lbnRFZGl0IiwiZm9ybUVsZW1lbnRBZGQiLCJmb3JtRWxlbWVudEF2YXRhciIsImJ1dHRvbkVkaXRQcm9maWxlIiwiYnV0dG9uQWRkQ2FyZCIsImJ1dHRvbkF2YXRhckVkaXQiLCJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlckRhdGEiLCJ1c2VyQ2FyZCIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJzZWN0aW9uIiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsInJlbmRlckNhcmQiLCJjYXJkIiwicG9wdXBTaG93SW1hZ2UiLCJvcGVuIiwiZGlzbGlrZSIsImFkZExpa2UiLCJwb3B1cERlbGV0ZSIsInN1Ym1pdENhbGxCYWNrIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJwb3B1cEFkZCIsImNhcmREYXRhIiwibG9hZGluZyIsInBsYWNlIiwiYWRkQ2FyZCIsImZpbmFsbHkiLCJwb3B1cEF2YXRhciIsImVkaXRBdmF0YXIiLCJwb3B1cEVkaXQiLCJlZGl0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1FZGl0VmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1BZGRWYWxpZGF0b3IiLCJmb3JtQXZhdGFybGlkYXRvciIsImdldFByb2ZpbGVJbmZvIiwicmVzZXRFcnJvcnMiXSwic291cmNlUm9vdCI6IiJ9