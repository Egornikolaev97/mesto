(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.data,o=e.handleCardClick,i=e.handleLikeClick,a=e.handleDeleteClick,c=e.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=r,this._name=r.name,this._link=r.link,this._likes=r.likes,this._cardId=r._id,this._ownerId=r.owner._id,this._userId=c,this._cardSelector=n,this._handleCardClick=o,this._handleLikeClick=i,this._handleDeleteClick=a}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo-grid__item").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_enableLike",value:function(){this._element.querySelector(".photo-grid__like").classList.add("photo-grid__like-active")}},{key:"_disableLike",value:function(){this._element.querySelector(".photo-grid__like").classList.remove("photo-grid__like-active")}},{key:"setLikes",value:function(e){this._likes=e,this._likesCounter.textContent=this._likes.length,this.isLiked()?this._enableLike():this._disableLike()}},{key:"removeLike",value:function(){this._likesCounter.textContent=this._likes.length}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._buttonCardDelete=this._element.querySelector(".photo-grid__delete"),this._buttonShowImage=this._element.querySelector(".photo-grid__show-btn"),this._buttonLike=this._element.querySelector(".photo-grid__like"),this._likesCounter=this._element.querySelector(".photo-grid__like-counter");var e=this._element.querySelector(".photo-grid__title"),t=this._element.querySelector(".photo-grid__image");return e.textContent=this._name,t.src=this._link,t.alt=this._name,this._ownerId!==this._userId&&this._buttonCardDelete.remove(),this.setLikes(this._likes),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._buttonLike.addEventListener("click",(function(){e._handleLikeClick(e._id)})),this._buttonCardDelete.addEventListener("click",(function(){e._handleDeleteClick(e._id)})),this._buttonShowImage.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"removeCard",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){var n=t._renderer(e);t.addItem(n)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),console.log(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupSelector.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupSelector.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imagePopup=document.querySelector(".popup__image"),t._imageDescription=document.querySelector(".popup__description"),t}return t=a,(n=[{key:"open",value:function(e){this._imageDescription.textContent=e.name,this._imagePopup.alt=e.name,this._imagePopup.src=e.link,u(h(a.prototype),"open",this).call(this)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._formElement=n._popupSelector.querySelector(".form"),n._inputList=n._formElement.querySelectorAll(".form__input"),n._submitButton=n._formElement.querySelector(".form__submit"),n._submitButtonText=n._submitButton.textContent,n}return t=a,(n=[{key:"loading",value:function(e){this._submitButton.textContent=e?"Сохранение...":this._submitButtonText}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;y(k(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){y(k(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function L(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupConfirmButton=n._popupSelector.querySelector(".form__submit-type-confirm"),n._handleSubmit=t,n}return t=a,(n=[{key:"submitCallBack",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;E(j(a.prototype),"setEventListeners",this).call(this),this._popupConfirmButton.addEventListener("click",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._errorList=Array.from(this._formElement.querySelectorAll(this._config.formSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.classList.add(this._config.errorClass),n.textContent=t}},{key:"_hideError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disableButton",value:function(){this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"_enableButton",value:function(){this._buttonElement.removeAttribute("disabled",!1),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButton():this._enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetErrors",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getAll",value:function(){Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"dislike",value:function(e){return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const D={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type-error",errorClass:"form__error_active"};var A=document.querySelector(".form_profile-edit"),U=document.querySelector(".form_cards-add"),V=document.querySelector(".form_avatar-edit"),N=document.querySelector(".profile__edit-btn"),J=document.querySelector(".profile__add-btn"),F=document.querySelector(".profile__avatar-btn"),G=A.querySelector(".form__input_type_name"),H=A.querySelector(".form__input_type_about"),M=(document.querySelector(".photo-grid"),document.querySelector(".profile__avatar"));function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $,K=new x({url:"https://mesto.nomoreparties.co/v1/cohort-41/",headers:{authorization:"a189a246-afb4-4f3e-9a38-c42b77769c95","Content-Type":"application/json"}});Promise.all([K.getUserInfo(),K.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo(o),$=o._id,X.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var Q=new R({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__avatar"}),W=function(e){var n=new t({data:e,userId:$,handleCardClick:function(){ne.open(e)},handleLikeClick:function(){n.isLiked()?K.dislike(e._id).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log("Ошибка: ".concat(e))})):K.addLike(e._id).then((function(e){n.setLikes(e.likes)})).catch((function(e){console.log("Ошибка: ".concat(e))}))},handleDeleteClick:function(){te.open(),te.submitCallBack((function(){K.deleteCard(e._id).then((function(){te.close(),n.removeCard()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}))}},".card-template");return n.generateCard()},X=new r({renderer:W},".photo-grid"),Y=new g(".popup_add",(function(e){Y.loading(!0);var t={name:e.place,link:e.link};K.addCard(t).then((function(e){X.addItem(W(e)),Y.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Y.loading(!1)}))})),Z=new g(".popup_avatar",(function(e){Z.loading(!0),K.editAvatar(e).then((function(e){M.src=e.avatar,Z.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){Z.loading(!1)}))})),ee=new g(".popup_edit",(function(e){ee.loading(!0),K.editUserInfo(e).then((function(e){Q.setUserInfo(e),ee.close()})).catch((function(e){alert("ERROR"),console.log("Ошибка: ".concat(e))})).finally((function(){ee.loading(!1)}))})),te=new P(".popup_delete"),ne=new p(".popup_show");Y.setEventListeners(),Z.setEventListeners(),ee.setEventListeners(),ne.setEventListeners(),te.setEventListeners();var re=new T(D,A);re.enableValidation();var oe=new T(D,U);oe.enableValidation();var ie=new T(D,V);ie.enableValidation(),N.addEventListener("click",(function(){var e=Q.getUserInfo();G.value=e.name,H.value=e.about,re.resetErrors(),ee.open()})),J.addEventListener("click",(function(){oe.resetErrors(),Y.open()})),F.addEventListener("click",(function(){ie.resetErrors(),Z.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQVVoQixVQUdaakIsRUFBY2xILGlCQUFpQixTQUFTLFdBQ3RDeUosR0FBaUJHLGNBQ2pCakIsRUFBU1IsVUFHWGhCLEVBQWlCbkgsaUJBQWlCLFNBQVMsV0FDekMwSixHQUFrQkUsY0FDbEJYLEVBQVlkLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigge2RhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgdXNlcklkfSwgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2l0ZW0nKVxyXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoaXRlbSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICBfZW5hYmxlTGlrZSgpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fbGlrZScpLmNsYXNzTGlzdC5hZGQoJ3Bob3RvLWdyaWRfX2xpa2UtYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Rpc2FibGVMaWtlKCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19saWtlJykuY2xhc3NMaXN0LnJlbW92ZSgncGhvdG8tZ3JpZF9fbGlrZS1hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlcyhzZXROZXdMaWtlKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VzID0gc2V0TmV3TGlrZTtcclxuICAgICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG5cclxuXHJcbiAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZUxpa2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlTGlrZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGlrZSgpIHtcclxuICAgICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uQ2FyZERlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2RlbGV0ZScpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvblNob3dJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX3Nob3ctYnRuJyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19saWtlLWNvdW50ZXInKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fdGl0bGUnKTtcclxuICAgICAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19pbWFnZScpO1xyXG5cclxuICAgICAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgICAgdGhpcy5fYnV0dG9uQ2FyZERlbGV0ZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNldExpa2VzKHRoaXMuX2xpa2VzKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLl9idXR0b25DYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uU2hvd0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDYXJkKCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcigge2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxucmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShlbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhwb3B1cFNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9pbWFnZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjcmlwdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VQb3B1cC5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VQb3B1cC5zcmMgPSBkYXRhLmxpbms7XHJcblxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zdWJtaXQnKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgaWYoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBDb25maXJtQnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VibWl0LXR5cGUtY29uZmlybScpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdFxyXG4gICAgfVxyXG5cclxuICAgIHN1Ym1pdENhbGxCYWNrKG5ld1N1Ym1pdCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IG5ld1N1Ym1pdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cENvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgICAgdGhpcy5fZXJyb3JMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvL21ldGhvZCBmb3Igc2hvd2luZyBlcnJvcnNcclxuICAgIF9zaG93RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZm9ybUVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy9tZXRob2QgZm9yIGhpZGluZyBlcnJvcnNcclxuICAgIF9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgIGNvbnN0IGZvcm1FcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgICAgZm9ybUVycm9yLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgLy9tZXRob2QgZm9yIGNoZWNraW5nIHZhbGlkaXR5XHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgICAgPyB0aGlzLl9zaG93RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpXHJcbiAgICAgICA6IHRoaXMuX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGlzYWJsZSBidXR0b24gbWV0aG9kXHJcbiAgICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9lbmJhbGUgYnV0dG9uIG1ldGhvZFxyXG4gICAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbWV0aG9kIGZvciB0b2dnbGluZyBidXR0b24gc3RhdGVcclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgdGhpcy5faGFzSW52YWxpZElucHV0KCkgPyB0aGlzLl9kaXNhYmxlQnV0dG9uKCkgOiB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2xpc3RlbmVyc1xyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL21ldGhvZCBmb3IgcmVzZXR0aW5nIGVycm9yc1xyXG4gICAgcmVzZXRFcnJvcnMoKSB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZW5hYmxlIHZhbGlkYXRpb24gbWV0aG9kXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIGhlYWRlcnNcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGwoKSB7XHJcbiAgICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFkZExpa2UoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZShpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0QXZhdGFyKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0JyxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdmb3JtX19zdWJtaXRfZGlzYWJsZWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZS1lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xyXG4gIH07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25maWc7IiwiLy9mb3JtJ3MgZWxlbWVudHNcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50RWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3Byb2ZpbGUtZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9jYXJkcy1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fYXZhdGFyLWVkaXQnKTtcclxuLy9idXR0b25zXHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ0bicpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BdmF0YXJFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idG4nKTtcclxuLy9pbnB1dHNcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGZvcm1FbGVtZW50RWRpdC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBhYm91dElucHV0ID0gZm9ybUVsZW1lbnRFZGl0LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZCcpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpOyIsImltcG9ydCBDYXJkIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uZmlnLmpzJztcclxuaW1wb3J0IHtcclxuICBmb3JtRWxlbWVudEVkaXQsXHJcbiAgZm9ybUVsZW1lbnRBZGQsXHJcbiAgZm9ybUVsZW1lbnRBdmF0YXIsXHJcbiAgYnV0dG9uRWRpdFByb2ZpbGUsXHJcbiAgYnV0dG9uQWRkQ2FyZCxcclxuICBidXR0b25BdmF0YXJFZGl0LFxyXG4gIG5hbWVJbnB1dCxcclxuICBhYm91dElucHV0LFxyXG4gIGF2YXRhcixcclxufSBmcm9tICcuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuLy9jbGFzcyBBcGlcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS8nLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdhMTg5YTI0Ni1hZmI0LTRmM2UtOWEzOC1jNDJiNzc3NjljOTUnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9LFxyXG59KTtcclxuXHJcbmxldCB1c2VySWQ7XHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW3VzZXJEYXRhLCB1c2VyQ2FyZF0pID0+IHtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICAgIHNlY3Rpb24ucmVuZGVySXRlbXModXNlckNhcmQpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gIH0pO1xyXG5cclxuLy9jcmVhdGluZyB1c2VyIGluZm9ybWF0aW9uIG9iamVjdFxyXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnLFxyXG4gIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcicsXHJcbn0pO1xyXG5cclxuLy9yZW5kZXJpbmcgY2FyZHNcclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgdXNlcklkOiB1c2VySWQsXHJcblxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBwb3B1cFNob3dJbWFnZS5vcGVuKGRhdGEpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNhcmQuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICBhcGkuZGlzbGlrZShkYXRhLl9pZClcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQuc2V0TGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpLmFkZExpa2UoZGF0YS5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBEZWxldGUub3BlbigpO1xyXG4gICAgICAgIHBvcHVwRGVsZXRlLnN1Ym1pdENhbGxCYWNrKCgpID0+IHtcclxuICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGRhdGEuX2lkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJy5jYXJkLXRlbXBsYXRlJ1xyXG4gICk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtyZW5kZXJlcjogcmVuZGVyQ2FyZH0sICcucGhvdG8tZ3JpZCcpO1xyXG5cclxuXHJcbi8vY3JlYXRpbmcgcG9wdXAgZm9yIGFkZGluZyBjYXJkc1xyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYWRkJywgKGNhcmREYXRhKSA9PiB7XHJcbiAgcG9wdXBBZGQubG9hZGluZyh0cnVlKTtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgbmFtZTogY2FyZERhdGEucGxhY2UsXHJcbiAgICBsaW5rOiBjYXJkRGF0YS5saW5rXHJcbiAgfTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBzZWN0aW9uLmFkZEl0ZW0ocmVuZGVyQ2FyZChkYXRhKSk7XHJcbiAgICAgIHBvcHVwQWRkLmNsb3NlKCk7XHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBBZGQubG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KVxyXG59KTtcclxuXHJcbi8vY3JlYXRpbmcgcG9wdXAgZm9yIGVkZGl0aW5nIGF2YXRhclxyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcucG9wdXBfYXZhdGFyJyxcclxuICAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBdmF0YXIubG9hZGluZyh0cnVlKTtcclxuICBhcGkuZWRpdEF2YXRhcihkYXRhKS5cclxuICB0aGVuKChkYXRhKSA9PiB7XHJcbiAgICBhdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgcG9wdXBBdmF0YXIubG9hZGluZyhmYWxzZSlcclxuICB9KVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2VkaXQnLFxyXG4gICAoZGF0YSkgPT4ge1xyXG4gICAgIHBvcHVwRWRpdC5sb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5cclxuICBlZGl0VXNlckluZm8oZGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgcG9wdXBFZGl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYWxlcnQoJ0VSUk9SJylcclxuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cEVkaXQubG9hZGluZyhmYWxzZSlcclxuICAgIH0pXHJcbn0pO1xyXG5cclxuLy9jcmVhdGluZyBwb3B1cCBmb3IgY29uZmlybWF0aW9uIGRlbGV0aW5nXHJcbmNvbnN0IHBvcHVwRGVsZXRlID0gbmV3IFBvcHVwV2l0aFN1Ym1pdCgnLnBvcHVwX2RlbGV0ZScpO1xyXG4vL2NyZWF0aW5nIHBvcHVwIGZvciBzaG93aW5nIGltYWdlc1xyXG5jb25zdCBwb3B1cFNob3dJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3Nob3cnKTtcclxuXHJcblxyXG4vL3NldEV2ZW50TGlzdGVuZXJzXHJcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFNob3dJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8vdmFsaWRhdGlvbiBvZiBwcm9maWxlIGVkaXRpbmdcclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50RWRpdCk7XHJcbmZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vdmFsaWRhdGlvbiBvZiBhZGRpbmcgY2FyZFxyXG5jb25zdCBmb3JtQWRkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudEFkZCk7XHJcbmZvcm1BZGRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vL3ZhbGlkYXRpb24gb2YgZWRpdGluZyBhdmF0YXJcclxuY29uc3QgZm9ybUF2YXRhcmxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50QXZhdGFyKTtcclxuZm9ybUF2YXRhcmxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuXHJcbi8vbGlzdGVuZXJzXHJcbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGNvbnN0IGdldFByb2ZpbGVJbmZvID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcclxuXHJcbiAgbmFtZUlucHV0LnZhbHVlID0gZ2V0UHJvZmlsZUluZm8ubmFtZTtcclxuICBhYm91dElucHV0LnZhbHVlID0gZ2V0UHJvZmlsZUluZm8uYWJvdXQ7XHJcblxyXG4gIGZvcm1FZGl0VmFsaWRhdG9yLnJlc2V0RXJyb3JzKCk7XHJcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG5idXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1BZGRWYWxpZGF0b3IucmVzZXRFcnJvcnMoKTtcclxuICBwb3B1cEFkZC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBmb3JtQXZhdGFybGlkYXRvci5yZXNldEVycm9ycygpO1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJ1c2VySWQiLCJ0aGlzIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3VzZXJJZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzb21lIiwiaXRlbSIsIl9lbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic2V0TmV3TGlrZSIsIl9saWtlc0NvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImlzTGlrZWQiLCJfZW5hYmxlTGlrZSIsIl9kaXNhYmxlTGlrZSIsIl9nZXRUZW1wbGF0ZSIsIl9idXR0b25DYXJkRGVsZXRlIiwiX2J1dHRvblNob3dJbWFnZSIsIl9idXR0b25MaWtlIiwiY2FyZE5hbWUiLCJjYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJzZXRMaWtlcyIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJldmVyc2UiLCJmb3JFYWNoIiwiZWxlbWVudCIsImFkZEl0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlUG9wdXAiLCJfaW1hZ2VEZXNjcmlwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVGV4dCIsImlzTG9hZGluZyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aFN1Ym1pdCIsImhhbmRsZVN1Ym1pdCIsIl9wb3B1cENvbmZpcm1CdXR0b24iLCJfaGFuZGxlU3VibWl0IiwibmV3U3VibWl0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfYWJvdXQiLCJfYXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRTZWxlY3RvciIsIl9lcnJvckxpc3QiLCJmb3JtU2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZm9ybUVycm9yIiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzZXRBdHRyaWJ1dGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJBcGkiLCJ1cmwiLCJoZWFkZXJzIiwiX3VybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZvcm1FbGVtZW50RWRpdCIsImZvcm1FbGVtZW50QWRkIiwiZm9ybUVsZW1lbnRBdmF0YXIiLCJidXR0b25FZGl0UHJvZmlsZSIsImJ1dHRvbkFkZENhcmQiLCJidXR0b25BdmF0YXJFZGl0IiwibmFtZUlucHV0IiwiYWJvdXRJbnB1dCIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VyRGF0YSIsInVzZXJDYXJkIiwicHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwicmVuZGVyQ2FyZCIsImNhcmQiLCJwb3B1cFNob3dJbWFnZSIsIm9wZW4iLCJkaXNsaWtlIiwiYWRkTGlrZSIsInBvcHVwRGVsZXRlIiwic3VibWl0Q2FsbEJhY2siLCJkZWxldGVDYXJkIiwicmVtb3ZlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQWRkIiwiY2FyZERhdGEiLCJsb2FkaW5nIiwicGxhY2UiLCJhZGRDYXJkIiwiZmluYWxseSIsInBvcHVwQXZhdGFyIiwiZWRpdEF2YXRhciIsInBvcHVwRWRpdCIsImVkaXRVc2VySW5mbyIsImFsZXJ0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JtRWRpdFZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJmb3JtQWRkVmFsaWRhdG9yIiwiZm9ybUF2YXRhcmxpZGF0b3IiLCJnZXRQcm9maWxlSW5mbyIsInJlc2V0RXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==